<?php header('Access-Control-Allow-Origin: *'); ?><!--attempting to correct an error on the js console-not exactly sure where this script goes -->
<!--this is the main file for the application UI -->
<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>McTimeClocker</title>
<!--external style sheets -->
<link type="text/css" href="../css/jquery-ui-1.8.23.custom.css" rel="stylesheet" />
<link type="text/css" href="../css/jquery.timepicker.css" rel="stylesheet"/>
<link type="text/css" href="../css/base.css" rel="stylesheet" />
<link href='http://fonts.googleapis.com/css?family=Numans' rel='stylesheet' type='text/css'>
<!--external javascript -->
<script type="text/javascript" src="../js/jquery-1.8.0.js"></script>
<script type="text/javascript" src="../js/Global.js"></script>
<script type="text/javascript" src="../js/readXML.js"></script>
<script type="text/javascript" src="../js/checkTextFile.js"></script>
<script type="text/javascript" src="../js/getData.js"></script>
<script type="text/javascript" src="../js/jquery.timepicker.js"></script>
<script type="text/javascript" src="../js/jquery-ui-1.8.23.custom.min.js"></script>

<script type="text/javascript">
//when the page is ready do this:
//currently there are no checks or validation--this will change soon and check for null values & empty string values will be added 
$(document).ready(function(){
	//select date--this is defined in the jquery-ui-1.8.23.custom.min.js
	var aDate = $('#datepicker').datepicker().value;
	//select time in --this is defined in the jquery-ui-1.8.23.custom.min.js
	var ti =    $('#timeIn').timepicker({
				            'minTime': '7:30am',
	                        'maxTime': '12:30pm',
							 }).value;
	//select time out --this is defined in the jquery-ui-1.8.23.custom.min.js
	var to =    $('#timeOut').timepicker({  
							 'scrollDefaultNow': true}).value;
	//the functions below are responsible for displaying the input values before user submit --this is defined in the jquery-ui-1.8.23.custom.min.js
	$('#timeOut').on('changeTime', function() {
					var tot = $('#timeOut').timepicker('getSecondsFromMidnight');
					var tit = $('#timeIn').timepicker('getSecondsFromMidnight');
					var titTot = ((tot - tit)/60)/60;
					var dailyTot = $('#hoursHold').text('Your Hours Today: ' + titTot).val();
					return titTot;
	});
	$('#name').on('change', function(){
		var aUser = $('#name').val();
		var userOut = $('#nameHold').text(aUser).val();
	});
	$('#datepicker').on('change', function(){
		var aDate = $('#datepicker').val();
		var dateOut = $('#dateHold').text(aDate).val();	
	});
	$('#timeIn').on('change', function(){
		var aTimeIn = $('#timeIn').val();
		var inOut = $('#inHold').text(aTimeIn).val();	
	});
	$('#timeOut').on('change', function(){
		var aTimeOut = $('#timeOut').val();
		var outOut = $('#outHold').text(aTimeOut).val();	
	});
	$(function() {var welcome = $( "#welcome1" ).tabs({
				  collapsible:true,
				  selected: -1,
				 });
				 
	});

	
});
//end the script
</script>
</head>
<body>
<section id="theContainer">
<section id="mainContain">
<header>Project Details & Time Tracker</header>
<div id="welcome1"><!--this div is the jquery tabs used for instructions of the app and all user details input-->
     <ul>
     <li style="font-size:14px; margin: 0 10px 0 5px;"><a href="#tabs2">User Name</a></li>
     <li style="font-size:14px; margin: 0 10px 0 5px;"><a href="#tabs3">Daily Hours</a></li>
     <li style="font-size:14px; margin: 0 10px 0 5px;"><a href="#tabs4">Notes</a></li>
     <li style="font-size:14px; margin: 0 10px 0 5px;"><a href="#tabs5">Submit</a></li>
     <li style="font-size:14px; margin: 0 10px 0 5px;"><a href="#tabs6">Total Hours</a></li>
     <li style="font-size:14px; margin: 0 5px 0 0;"><a href="#tabs7">FYI</a></li>
     </ul>
     	<div id="tabs2"><p>Your username can be anything you like- when you decide on a username stick with it because your hours are written to a text document with your username as the title. Once you submit your first set of daily details your text document is created. Your text document can be viewed anytime by entering your username in the <span>'Veiw Your Details Page'</span> box below right.</p></div>
        <div id="tabs3"><p>Following your input of 'time in' and 'time out', your total hours are calculated & displayed for you- <span>you should enter those hours in the 'daily hours' </span>input box so they will be written to your file</p></div>
        <div id="tabs4"><p>If you have notes you may enter them into the alloted space, if you have no notes this area can be left blank</p></div>
        <div id="tabs5"><p>After you finish your daily input-click submit and your details are recorded. You will be automatically redirected back to the input page if you need to enter details for another day</p></div>
        <div id="tabs6"><p>Whenever you would like to see or print all your daily details just enter your username in the "View Your Details Page" box and click submit- to print click file/print in your browsers toolbar</p></div>
        <div id="tabs7"><p>For the best user experience, use something other than Internet Explorer</p></div> 
     </div><!--end div used for instructions-->
<div id="inputContain"><!--this div contains all inputs of daily details-->
<h3>Enter Daily Details</h3>
  <div class="datepicker">
    <form name="web_form" id="web_form"  method="post" action="process-form-data.php">
         <input type="text" placeholder="Username" size="25" name="name" id="name" /><br>
         <input id="datepicker" size="25" placeholder="Date" name='datepicker' type="text" class="time"/><br>
         <input id="timeIn" name='timeIn' size="25" placeholder="Time In" type="text" class="time"><br>
         <input id="timeOut" name="timeOut" type="text" placeholder="Time Out"class="time" /><br>
         <input type="text" name="totHr" placeholder="Enter Daily Total Hours" size="25" id="totHr"/><br>
         <textarea name="comments" placeholder="Project Title/Notes"  id="comments" cols="25" rows="5" ></textarea><br>
         <input type="submit" value="Submit"  />
   </form>
  </div> <!--end daily details-->
</div> <!--end welcome1-->
<!--the below div elements are used to display the text at the onChange event-->
<div id = "totals">
<h3>Current Input Details:</h3>
<div id = "nameHold"></div>
<div id = "dateHold"></div>
<div id = "inHold"></div>
<div id = "outHold"></div>
<div id = "hoursHold"></div>
<div id="detailsContain"></div>
</div><!--end totals-->

</section>
<section id="outputContain">
<div id="userSubmit">
<h3>View Your Details</h3>
   <form name="details_form" id="details_form" method="post" action="detailsView.php" >
      <input type="text" id="nameDetails" name="nameDetails" size="25" placeholder="username" />
      <br><br><input type="submit" value="Submit"  />
   </form>
   <input type="button" id="aButton" value="click" onClick="getData()" /><br><br><br>
   <div id="onScreenDisplay"></div>
  <!-- <input type="text" id="name" name="nameDetails" size="25" placeholder="username" />-->
   <input type="button" id="bButton" value="click" /><br><br><br>
   
</div><!--end user submit-->

</section>
</section>
</body>
</html>
